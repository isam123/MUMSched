<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>

    <meta charset="UTF-8">
    <title>Title</title>
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.2/css/all.css">
    <!-- Google Fonts -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&display=swap">
    <!-- Bootstrap core CSS -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.4.1/css/bootstrap.min.css" rel="stylesheet">
    <!-- Material Design Bootstrap -->
    <link href="/css/mdb.css" rel="stylesheet">
    <link href="/css/style.css" rel="stylesheet">
    <!--    <link href="https://cdn.datatables.net/1.10.20/css/jquery.dataTables.min.css">-->
</head>
<body>

<!--// Status After Redirect-->
<div th:if="${success}" role="alert" aria-live="assertive" aria-atomic="true" class="toast green" data-autohide="false">
    <div class="toast-header green ml">

        <button type="button" class="ml-2 mb-1 close" data-dismiss="toast" aria-label="Close">
            <span aria-hidden="true">&times;</span>
        </button>

        <div class="toast-body white-text">
            Successfully Updated.
        </div>
    </div>

</div>

<div class="container-fluid green " style="height: 100px">

</div>
<div class="container ">

    <!--/*@thymesVar id="success" type=""*/-->

    <div class="row">

        <div class="col mt-5">
            <!--/*@thymesVar id="student" type=""*/-->
            <div class="form-row ">
                <form th:action="@{/createStudent}" th:object="${student}" method="Post" class="">
                    <div class="col green"><h3 class="white-text text-center">Register</h3></div>
                    <div class="col">
                        <div class="md-form">
                            <input type="text" th:field="*{name}" id="materialRegisterFormFirstName"
                                   class="form-control" required>
                            <label for="materialRegisterFormFirstName">First name</label>
                        </div>
                    </div>

                    <div class="col">
                        <div class="md-form">
                            <!--/*@thymesVar id="date" type=""*/-->
                            <input type="date" th:field="*{date}" id="materialRegisterFormDateofBirth"
                                   class="form-control">
                            <label for="materialRegisterFormFirstName">Date of birth</label>
                        </div>
                    </div>

                    <div class="col">
                        <select required class="mdb-select md-form colorful-select dropdown-success black-text"
                                th:field="*{entry}">

                            <option selected value=""> Choose an Entry</option>
                            -->
                            <!--/*@thymesVar id="entry_id" type=""*/-->
                            <option th:each="entry : ${entries}" th:text="${entry.name}"
                                    th:value="${entry.id}"
                            ></option>

                        </select>

                    </div>

                    <div class="col">
                        <div class="md-form">
                            <!--/*@thymesVar id="age" type=""*/-->
                            <input required type="number" th:field="*{age}" id="materialRegisterFormAge"
                                   class="form-control">
                            <label for="materialRegisterFormFirstName">Age</label>
                        </div>
                    </div>
                    <button type="submit" class="btn btn-md btn-success ml-3"> Submit</button>

                </form>
            </div>

        </div>
        <div class="col-8 mt-5">
            <div class="green w-26"><h3 class="white-text text-center"> Student List</h3></div>
            <!--/*@thymesVar id="Student" type="com.MumSched.MUMSched.Models.Student"*/-->

            <table id="dtMaterialDesignExample" class="table table-sm" width="100%">

                <thead>
                <tr>
                    <th>Id</th>
                    <th>Name</th>
                    <th>Date of Birth</th>
                    <th>Age</th>
                    <th>Entry</th>
                    <th></th>
                </tr>
                </thead>

                <tbody>
                <tr th:if="${students.empty}">
                    <td> No Students Record Available</td>
                </tr>
                <tr th:each="student : ${students}">
                    <td th:text="${student.id}"></td>
                    <td th:text="${student.name}"></td>
                    <td th:text="${student.date}"></td>
                    <td th:text="${student.age}"></td>
                    <td th:text="${student.entry.name}"></td>
                    <td class="w-25"><a href th:href="@{'/studentDetail/' +${student.id}}" class="btn btn-success">
                        View </a></td>
                </tr>

                </tbody>
            </table>
        </div>
    </div>


</div>


<!-- Modal -->
<div class="modal fade" id="basicExampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
     aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel">Modal title</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                ...
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                <button type="button" class="btn btn-primary">Save changes</button>
            </div>
        </div>
    </div>
</div>
<!-- JQuery -->
<script type="text/javascript" src="/js/jquery.js"></script>
<script type="text/javascript" src="/js/addons/datatables.min.js"></script>
<!--<script src = "http://cdn.datatables.net/1.10.18/js/jquery.dataTables.min.js" defer ></script>-->
<!--<script src="https://cdn.datatables.net/1.10.20/js/jquery.dataTables.min.js"></script>-->
<!-- Bootstrap tooltips -->
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.4/umd/popper.min.js"></script>
<!-- Bootstrap core JavaScript -->
<script type="text/javascript"
        src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.4.1/js/bootstrap.min.js"></script>
<!-- MDB core JavaScript -->
<script type="text/javascript" src="/js/mdb.js"></script>
<script>
    $(document).ready(function () {
        $('#dtMaterialDesignExample').DataTable({
            "paging": true // false to disable pagination (or any other option)
        });
        $('.dataTables_length').addClass('bs-select');
    });
    // $('#dtMaterialDesignExample_wrapper').find('label').each(function () {
    //     $(this).parent().append($(this).children());
    // });
    // $('#dtMaterialDesignExample_wrapper .dataTables_filter').find('input').each(function () {
    //     const $this = $(this);
    //     $this.attr("placeholder", "Search");
    //     $this.removeClass('form-control-sm');
    // });
    // $('#dtMaterialDesignExample_wrapper .dataTables_length').addClass('d-flex flex-row');
    // $('#dtMaterialDesignExample_wrapper .dataTables_filter').addClass('md-form');
    // $('#dtMaterialDesignExample_wrapper select').removeClass(
    //     'custom-select custom-select-sm form-control form-control-sm');
    // $('#dtMaterialDesignExample_wrapper select').addClass('mdb-select');
    // $('#dtMaterialDesignExample_wrapper .mdb-select').materialSelect();
    // $('#dtMaterialDesignExample_wrapper .dataTables_filter').find('label').remove();
</script>
<script>
    // $(document).ready(function () {
    //     $('#dtBasicExample').DataTable({
    //         "paging": false // false to disable pagination (or any other option)
    //     });
    //     $('.dataTables_length').addClass('bs-select');
    // });

    $(document).ready(function () {
        $('.mdb-select').materialSelect();
    });
    $('.toast').toast('show');

</script>
</body>
</html>